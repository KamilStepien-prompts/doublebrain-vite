(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const t of o)if(t.type==="childList")for(const i of t.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function r(o){const t={};return o.integrity&&(t.integrity=o.integrity),o.referrerPolicy&&(t.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?t.credentials="include":o.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function a(o){if(o.ep)return;o.ep=!0;const t=r(o);fetch(o.href,t)}})();document.querySelector("#app").innerHTML=`
  <h1>Sigma is live üß†</h1>
  <p>Jeste≈õ na pok≈Çadzie DoubleBrain.</p>
`;document.addEventListener("DOMContentLoaded",()=>{var k;const m=document.getElementById("splash"),l=document.querySelector("#splash-text span"),r=document.getElementById("toggleIdentity"),a=document.getElementById("backButton"),o=document.getElementById("nextButton"),t=document.getElementById("identityIntro"),i=document.querySelector(".identity-obecnosc"),w=document.getElementById("manifest"),b=document.getElementById("dbrainIntro"),u=document.querySelector(".hamburger"),d=document.querySelector(".main-nav"),S=document.querySelector(".site-header"),g=document.getElementById("presence-button");!sessionStorage.getItem("splashDismissed")&&m&&(setTimeout(()=>m.classList.add("hide"),2800),sessionStorage.setItem("splashDismissed","true")),m&&l&&(l.style.cursor="pointer",l.addEventListener("click",()=>{m.style.opacity="0",setTimeout(()=>m.style.display="none",1e3)})),u&&d&&u.addEventListener("click",()=>{d.classList.toggle("open"),u.setAttribute("aria-expanded",d.classList.contains("open")?"true":"false")}),document.addEventListener("click",e=>{d&&d.classList.contains("open")&&!d.contains(e.target)&&!u.contains(e.target)&&(d.classList.remove("open"),u.setAttribute("aria-expanded","false"))}),window.addEventListener("scroll",()=>{S&&S.classList.toggle("scrolled",window.scrollY>50)}),r&&a&&t&&i&&(r.addEventListener("click",()=>{t.style.display="none",i.classList.add("show"),r.style.display="none",a.style.display="inline-block",o&&(o.style.display="inline-block"),window.scrollTo({top:0,behavior:"smooth"})}),a.addEventListener("click",()=>{t.style.display="flex",i.classList.remove("show"),r.style.display="inline-block",a.style.display="none",o&&(o.style.display="none"),window.scrollTo({top:0,behavior:"smooth"})})),r&&w&&b&&r.addEventListener("click",()=>{b.style.display="none",w.classList.add("show"),window.scrollTo({top:0,behavior:"smooth"})}),document.querySelectorAll(".identity-box").forEach(e=>{e.addEventListener("mouseenter",()=>{e.style.setProperty("--bg-transform","scale(1.05)")}),e.addEventListener("mousemove",n=>{const s=e.getBoundingClientRect(),f=n.clientX-s.left,h=n.clientY-s.top,y=(f-s.width/2)/s.width*20,p=(h-s.height/2)/s.height*20;e.style.setProperty("--bg-transform",`translate(${y}px, ${p}px) scale(1.05)`)}),e.addEventListener("mouseleave",()=>{e.style.setProperty("--bg-transform","scale(1)")})}),document.querySelectorAll(".identity-box").forEach(e=>{e.addEventListener("click",()=>{const n=e.getAttribute("data-id"),s=document.getElementById(`detail-${n}`);t&&s&&(t.style.display="none",s.classList.add("active"),window.scrollTo({top:0,behavior:"smooth"}))})}),document.querySelectorAll(".back-to-boxes").forEach(e=>{e.addEventListener("click",()=>{document.querySelectorAll(".detail-view").forEach(n=>n.classList.remove("active")),t&&(t.style.display="flex",window.scrollTo({top:0,behavior:"smooth"}))})}),(k=document.querySelector(".presence-trigger"))==null||k.addEventListener("click",()=>{i&&t&&(t.style.display="none",i.classList.add("show"),window.scrollTo({top:0,behavior:"smooth"}))});const x=document.querySelectorAll(".fade-in"),A=new IntersectionObserver(e=>{e.forEach(n=>{n.isIntersecting&&n.target.classList.add("visible")})},{threshold:.2});x.forEach(e=>A.observe(e));const I=new Set;document.querySelectorAll(".identity-box").forEach(e=>{e.addEventListener("click",()=>{const n=e.getAttribute("data-id");n&&I.add(n),I.size>=3&&g&&(g.style.display="block",g.classList.add("fade-in"))})});const P={1:"SigmaPoe_01.html",2:"SigmaPoe_02.html",3:"SigmaPoe_03.html",4:"SigmaPoe_04.html",5:"SigmaPoe_05.html"},v=document.getElementById("chapterSelect"),L=document.getElementById("poeContent");async function B(e){try{const n=await fetch(P[e]);if(!n.ok)throw new Error("Load error");const s=await n.text();L&&(L.innerHTML=s)}catch(n){console.error("Loading chapter failed:",n)}}v&&L&&(v.addEventListener("change",e=>B(e.target.value)),B(v.value));const c=document.getElementById("matrixCanvas");if(c){let y=function(){c.width=window.innerWidth,c.height=window.innerHeight,f=Math.floor(c.width/s),h=Array(f).fill(1)},p=function(){e.fillStyle="rgba(10, 10, 10, 0.15)",e.fillRect(0,0,c.width,c.height),e.fillStyle="#5ef2e6",e.font=`${s}px monospace`,h.forEach((E,q)=>{const T=n[Math.floor(Math.random()*n.length)];e.fillText(T,q*s,E*s),h[q]=E*s>c.height&&Math.random()>.975?0:E+1})};var O=y,D=p;const e=c.getContext("2d"),n="01@#&*%$+=-",s=16;let f,h;window.addEventListener("resize",y),y(),setInterval(p,60)}});
